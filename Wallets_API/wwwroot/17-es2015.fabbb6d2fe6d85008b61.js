(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{"0xaD":function(e,t,s){"use strict";s.d(t,"a",(function(){return b}));var a=s("AytR"),n=s("2Vo4"),i=s("XNiG"),r=s("lJxs"),o=s("fXoL"),c=s("tk/3"),h=s("7Vn+");let b=(()=>{class e{constructor(e,t){this.http=e,this.authService=t,this.baseUrl=a.a.apiUrl+"expense/",this.initialExpenses=[],this.expensesSubject=new n.a(0),this.categoryTitles=new i.a,this.firstSubject=new i.a,this.secondSubject=new i.a,this.thirdSubject=new i.a,this.fourthSubject=new i.a,this.fifthSubject=new i.a,this.sixthSubject=new i.a,this.seventhSubject=new i.a,this.eightthSubject=new i.a,this.ninethSubject=new i.a,this.tenthSubject=new i.a,this.firstExpenses={categoryName:"",expenses:[],categoryId:0},this.secondExpenses={categoryName:"",expenses:[],categoryId:0},this.thirdExpenses={categoryName:"",expenses:[],categoryId:0},this.fourthExpenses={categoryName:"",expenses:[],categoryId:0},this.fifthExpenses={categoryName:"",expenses:[],categoryId:0},this.sixthExpenses={categoryName:"",expenses:[],categoryId:0},this.seventhExpenses={categoryName:"",expenses:[],categoryId:0},this.eightthExpenses={categoryName:"",expenses:[],categoryId:0},this.ninethExpenses={categoryName:"",expenses:[],categoryId:0},this.tenthExpenses={categoryName:"",expenses:[],categoryId:0}}showAllExpenses(){return this.http.get(this.baseUrl+this.authService.getToken().nameid).subscribe(e=>{if(null!=e){console.log(e);let t=0,s=[];this.firstExpenses.expenses=e[0].expenses,this.firstExpenses.categoryId=e[0].categoryId,this.firstExpenses.categoryName=e[0].categoryName,this.firstSubject.next(this.firstExpenses.expenses),t++,s.push({id:this.firstExpenses.categoryId,title:this.firstExpenses.categoryName}),this.secondExpenses.expenses=e[1].expenses,this.secondExpenses.categoryId=e[1].categoryId,this.secondExpenses.categoryName=e[1].categoryName,this.secondSubject.next(this.secondExpenses.expenses),t++,s.push({id:this.secondExpenses.categoryId,title:this.secondExpenses.categoryName}),this.thirdExpenses.expenses=e[2].expenses,this.thirdExpenses.categoryId=e[2].categoryId,this.thirdExpenses.categoryName=e[2].categoryName,this.thirdSubject.next(this.thirdExpenses.expenses),t++,s.push({id:this.thirdExpenses.categoryId,title:this.thirdExpenses.categoryName}),this.fourthExpenses.expenses=e[3].expenses,this.fourthExpenses.categoryId=e[3].categoryId,this.fourthExpenses.categoryName=e[3].categoryName,this.fourthSubject.next(this.fourthExpenses.expenses),t++,s.push({id:this.fourthExpenses.categoryId,title:this.fourthExpenses.categoryName}),this.fifthExpenses.expenses=e[4].expenses,this.fifthExpenses.categoryId=e[4].categoryId,this.fifthExpenses.categoryName=e[4].categoryName,this.fifthSubject.next(this.fifthExpenses.expenses),t++,s.push({id:this.fifthExpenses.categoryId,title:this.fifthExpenses.categoryName}),t<e.length&&(this.sixthExpenses.expenses=e[5].expenses,this.sixthExpenses.categoryId=e[5].categoryId,this.sixthExpenses.categoryName=e[5].categoryName,this.sixthSubject.next(this.sixthExpenses.expenses),t++,s.push({id:this.sixthExpenses.categoryId,title:this.sixthExpenses.categoryName})),t<e.length&&(this.seventhExpenses.expenses=e[6].expenses,this.seventhExpenses.categoryId=e[6].categoryId,this.seventhExpenses.categoryName=e[6].categoryName,this.seventhSubject.next(this.seventhExpenses.expenses),t++,s.push({id:this.seventhExpenses.categoryId,title:this.seventhExpenses.categoryName})),t<e.length&&(this.eightthExpenses.expenses=e[7].expenses,this.eightthExpenses.categoryId=e[7].categoryId,this.eightthExpenses.categoryName=e[7].categoryName,this.eightthSubject.next(this.eightthExpenses.expenses),t++,s.push({id:this.eightthExpenses.categoryId,title:this.eightthExpenses.categoryName})),t<e.length&&(this.ninethExpenses.expenses=e[8].expenses,this.ninethExpenses.categoryId=e[8].categoryId,this.ninethExpenses.categoryName=e[8].categoryName,this.ninethSubject.next(this.ninethExpenses.expenses),t++,s.push({id:this.ninethExpenses.categoryId,title:this.ninethExpenses.categoryName})),t<e.length&&(this.tenthExpenses.expenses=e[9].expenses,this.tenthExpenses.categoryId=e[9].categoryId,this.tenthExpenses.categoryName=e[9].categoryName,this.tenthSubject.next(this.tenthExpenses.expenses),t++,s.push({id:this.tenthExpenses.categoryId,title:this.tenthExpenses.categoryName})),this.categoryTitles.next(s)}})}showDailyExpenses(e){return this.http.get(this.baseUrl+this.authService.getToken().nameid+"/dailyExpenses/"+e)}getPreviousExpenses(e){return this.http.get(this.baseUrl+this.authService.getToken().nameid+"/previousExpenses/"+e)}createExpense(e,t){return console.log("expense to send",e),this.http.post(this.baseUrl+this.authService.getToken().nameid+"/new/"+t,e).pipe(Object(r.a)(t=>{var s=t.expense;switch(+e.expenseCategoryId){case this.firstExpenses.categoryId:this.firstExpenses.expenses.push(s),this.firstSubject.next(this.firstExpenses.expenses);break;case this.secondExpenses.categoryId:this.secondExpenses.expenses.push(s),this.secondSubject.next(this.secondExpenses.expenses);break;case this.thirdExpenses.categoryId:this.thirdExpenses.expenses.push(s),this.thirdSubject.next(this.thirdExpenses.expenses);break;case this.fourthExpenses.categoryId:this.fourthExpenses.expenses.push(s),this.fourthSubject.next(this.fourthExpenses.expenses);break;case this.fifthExpenses.categoryId:this.fifthExpenses.expenses.push(s),this.fifthSubject.next(this.fifthExpenses.expenses);break;case this.sixthExpenses.categoryId:this.sixthExpenses.expenses.push(s),this.sixthSubject.next(this.sixthExpenses.expenses);break;case this.seventhExpenses.categoryId:this.seventhExpenses.expenses.push(s),this.seventhSubject.next(this.seventhExpenses.expenses);break;case this.eightthExpenses.categoryId:this.eightthExpenses.expenses.push(s),this.eightthSubject.next(this.eightthExpenses.expenses);break;case this.ninethExpenses.categoryId:this.ninethExpenses.expenses.push(s),this.ninethSubject.next(this.ninethExpenses.expenses);break;case this.tenthExpenses.categoryId:this.tenthExpenses.expenses.push(s),this.tenthSubject.next(this.tenthExpenses.expenses)}return this.expensesSubject.next(this.expensesSubject.getValue()+s.moneySpent),t}))}getWalletStatistics(e){return this.http.get(this.baseUrl+this.authService.getToken().nameid+"/detailedStatistics/"+e)}getCategoryStatistics(e,t){return this.http.get(this.baseUrl+this.authService.getToken().nameid+"/detailedCategoryStatistics/"+e+"/"+t)}getUserStatistics(e,t){return this.http.get(this.baseUrl+this.authService.getToken().nameid+"/detailedUserStatistics/"+e+"/"+t)}getUserExpenses(e,t){return this.http.get(this.baseUrl+this.authService.getToken().nameid+"/getUserExpenses/"+e+"/"+t)}onExpenseDelete(e){return this.http.delete(this.baseUrl+this.authService.getToken().nameid+"/expenseDelete/"+e,{responseType:"text"})}onExpenseEdit(e){return console.log("edit expene",e),this.http.post(this.baseUrl+this.authService.getToken().nameid+"/expenseEdit/"+e.id,e)}getWalletData(e){return this.http.get(this.baseUrl+e+"/getNameAndLimit").pipe(Object(r.a)(e=>(this.expensesSubject.next(e.monthlyExpenses),e)))}getSpecifiedMonthsData(e,t){return this.http.get(this.baseUrl+this.authService.getToken().nameid+"/specificMonthsData/"+e+"/"+t)}}return e.\u0275fac=function(t){return new(t||e)(o.Yb(c.b),o.Yb(h.a))},e.\u0275prov=o.Kb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},h5UX:function(e,t,s){"use strict";s.r(t);var a=s("ofXK"),n=s("CLZf"),i=s("tyNb"),r=s("wd/R"),o=s("fXoL"),c=s("0xaD"),h=s("BI3K"),b=s("sYmb"),p=s("jhN1"),l=s("FNUI"),d=s("Vpvo"),g=s("KxNj"),x=s("LPYB");let u=(()=>{class e{constructor(e){this.translate=e,this.barChartOptions={responsive:!0,maintainAspectRatio:!1,aspectRatio:.7,scales:{xAxes:[{ticks:{fontColor:"#008855",fontSize:14}}],yAxes:[{ticks:{fontColor:"#008855",fontSize:14}}]},legend:{display:!0,labels:{fontColor:"#008855",fontSize:13}},plugins:{datalabels:{anchor:"end",align:"end"}}},this.barChartLabels=[],this.barChartType="bar",this.barChartLegend=!0,this.labels=[],this.months=[],this.barChartData=[],this.barChartData=[{data:[],label:"Last Month",backgroundColor:"#aaf0d1",borderColor:"#699481"},{data:[],label:"Current Month",backgroundColor:"#f0b4aa",borderColor:"#876660"}]}ngOnInit(){this.translate.onLangChange.subscribe(()=>{this.translateLabels()}),this.date=new Date(Date.now()),this.prevDate=new Date(Date.now()),this.date.setMonth(this.date.getMonth()),this.prevDate.setMonth(this.date.getMonth()-1),this.translateLabels()}translateLabels(){if("en"===this.translate.currentLang){this.labels=this.translate.translations.en.ExpenseCategory,this.months=this.translate.translations.en.Months,this.barChartLabels=[],this.barChartData[0].label=this.months[this.date.toLocaleString("default",{month:"long"})],this.barChartData[1].label=this.months[this.prevDate.toLocaleString("default",{month:"long"})];for(let e=0;e<this.categories.length;e++)this.barChartLabels.push([this.categories[e].title]),this.barChartData[1].data[e]=this.currentMonthbarExpensesList[e].categoryExpenses,this.barChartData[0].data[e]=this.lastMonthbarExpensesList[e].categoryExpenses}else if("ru"===this.translate.currentLang){this.labels=this.translate.translations.ru.ExpenseCategory,this.months=this.translate.translations.ru.Months,this.barChartLabels=[],this.barChartData[0].label=this.months[this.date.toLocaleString("default",{month:"long"})],this.barChartData[1].label=this.months[this.prevDate.toLocaleString("default",{month:"long"})];for(let e=0;e<this.categories.length;e++)this.barChartLabels.push([this.labels[this.categories[e].title]]),this.barChartData[1].data[e]=this.currentMonthbarExpensesList[e].categoryExpenses,this.barChartData[0].data[e]=this.lastMonthbarExpensesList[e].categoryExpenses}}}return e.\u0275fac=function(t){return new(t||e)(o.Ob(b.d))},e.\u0275cmp=o.Ib({type:e,selectors:[["app-bar-comparison"]],inputs:{currentMonthbarExpensesList:"currentMonthbarExpensesList",lastMonthbarExpensesList:"lastMonthbarExpensesList",categories:"categories"},decls:4,vars:5,consts:[[1,"container"],[2,"display","block"],["baseChart","",3,"datasets","labels","options","legend","chartType"]],template:function(e,t){1&e&&(o.Ub(0,"div",0),o.Ub(1,"div"),o.Ub(2,"div",1),o.Pb(3,"canvas",2),o.Tb(),o.Tb(),o.Tb()),2&e&&(o.Cb(3),o.mc("datasets",t.barChartData)("labels",t.barChartLabels)("options",t.barChartOptions)("legend",t.barChartLegend)("chartType",t.barChartType))},directives:[x.a],styles:[""]}),e})();function m(e,t){1&e&&(o.Ub(0,"div",3),o.Ub(1,"div",4),o.Ub(2,"div",5),o.Pb(3,"div",6),o.Tb(),o.Ub(4,"div",5),o.Pb(5,"div",6),o.Tb(),o.Tb(),o.Tb())}function f(e,t){if(1&e){const e=o.Vb();o.Ub(0,"ul",48),o.Ub(1,"li"),o.Ub(2,"div",49),o.Ub(3,"div",50),o.Ub(4,"div",51),o.Ub(5,"img",52),o.cc("click",(function(){o.vc(e);const s=t.$implicit;return o.gc(2).getUserStatistics(s.id)})),o.Tb(),o.Tb(),o.Tb(),o.Ub(6,"div",53),o.Dc(7),o.Pb(8,"br"),o.Ub(9,"span",54),o.Ub(10,"small"),o.Dc(11),o.hc(12,"translate"),o.Tb(),o.Tb(),o.Tb(),o.Tb(),o.Tb(),o.Tb()}if(2&e){const e=t.$implicit,s=o.gc(2);o.Cb(5),o.nc("src",null!==e.photoUrl?e.photoUrl:"../../assets/images/default-avatar.png",o.xc),o.Cb(2),o.Fc(" ",e.username," "),o.Cb(4),o.Gc("",o.ic(12,4,"Profile.Joined"),": ",s.getFormat(e.dateJoined),"")}}function C(e,t){if(1&e&&(o.Ub(0,"p",11),o.Dc(1),o.hc(2,"translate"),o.Tb()),2&e){const e=o.gc(2);o.Cb(1),o.Ec(o.ic(2,1,"ExpenseCategory."+e.mostUsedCategory))}}function E(e,t){1&e&&(o.Ub(0,"p",11),o.Dc(1,"None found"),o.Tb())}function v(e,t){1&e&&(o.Ub(0,"span"),o.Dc(1),o.hc(2,"translate"),o.Tb()),2&e&&(o.Cb(1),o.Ec(o.ic(2,1,"Footer.NumberExp")))}function y(e,t){1&e&&(o.Ub(0,"span"),o.Dc(1,"Please, add expenses"),o.Tb())}function T(e,t){if(1&e&&(o.Ub(0,"p",11),o.Dc(1),o.hc(2,"translate"),o.Tb()),2&e){const e=o.gc(2);o.Cb(1),o.Ec(o.ic(2,1,"ExpenseCategory."+e.mostSpentCategory))}}function U(e,t){1&e&&(o.Ub(0,"p",11),o.Dc(1,"None found"),o.Tb())}function S(e,t){1&e&&(o.Ub(0,"span"),o.Dc(1),o.hc(2,"translate"),o.Tb()),2&e&&(o.Cb(1),o.Ec(o.ic(2,1,"Footer.TotalCat")))}function D(e,t){1&e&&(o.Ub(0,"span"),o.Dc(1,"Please, add expenses"),o.Tb())}function I(e,t){if(1&e&&(o.Ub(0,"p",11),o.Dc(1),o.Tb()),2&e){const e=o.gc(2);o.Cb(1),o.Ec(e.avgDailyExpenses)}}function M(e,t){1&e&&(o.Ub(0,"p",11),o.Dc(1,"0"),o.Tb())}function w(e,t){1&e&&(o.Ub(0,"span",11),o.Dc(1),o.hc(2,"translate"),o.Tb()),2&e&&(o.Cb(1),o.Ec(o.ic(2,1,"Footer.PerDay")))}function P(e,t){1&e&&(o.Ub(0,"span",11),o.Dc(1,"Please, add expenses"),o.Tb())}function L(e,t){if(1&e&&(o.Ub(0,"p",11),o.Dc(1),o.Tb()),2&e){const e=o.gc(2);o.Cb(1),o.Ec(e.amountOfMoneySpent)}}function N(e,t){1&e&&(o.Ub(0,"p",11),o.Dc(1,"0"),o.Tb())}function O(e,t){1&e&&(o.Ub(0,"span",11),o.Dc(1),o.hc(2,"translate"),o.Tb()),2&e&&(o.Cb(1),o.Ec(o.ic(2,1,"Footer.TotalSum")))}function j(e,t){1&e&&(o.Ub(0,"span",11),o.Dc(1,"Please, add expenses"),o.Tb())}function k(e,t){if(1&e&&(o.Ub(0,"div"),o.Pb(1,"app-pie-graph",55),o.Tb()),2&e){const e=o.gc(2);o.Cb(1),o.mc("topFiveUsers",e.topFiveUsers)}}function F(e,t){1&e&&(o.Ub(0,"p",56),o.Dc(1,"Please, add some expenses to see statistics "),o.Tb())}function _(e,t){1&e&&(o.Ub(0,"p",56),o.Dc(1,"Please, add some expenses to see statistics "),o.Tb())}function W(e,t){if(1&e&&(o.Ub(0,"div"),o.Pb(1,"app-single-bar-chart",57),o.Cc(2,_,2,0,"p",40),o.Tb()),2&e){const e=o.gc(2);o.Cb(1),o.mc("categories",e.categories)("barExpensesList",e.barExpenses),o.Cb(1),o.mc("ngIf",null==e.barExpenses)}}function z(e,t){if(1&e&&o.Pb(0,"app-line-chart",58),2&e){const e=o.gc(2);o.mc("lastSixMonths",e.lastSixMonths)}}function A(e,t){1&e&&(o.Ub(0,"p",56),o.Dc(1,"Please, add some expenses to see statistics "),o.Tb())}function J(e,t){if(1&e&&o.Pb(0,"app-bar-comparison",62),2&e){const e=o.gc(3);o.mc("categories",e.categories)("currentMonthbarExpensesList",e.currentMonthDataToCompare)("lastMonthbarExpensesList",e.lastMonthDataToCompare)}}function V(e,t){1&e&&(o.Ub(0,"p",56),o.Dc(1,"Please, add some expenses to see statistics "),o.Tb())}function X(e,t){if(1&e&&(o.Ub(0,"div",59),o.Ub(1,"div",38),o.Ub(2,"div",10),o.Ub(3,"h5",11),o.Dc(4),o.hc(5,"translate"),o.Tb(),o.Ub(6,"p",39),o.Dc(7),o.hc(8,"translate"),o.Tb(),o.Tb(),o.Ub(9,"div",12),o.Ub(10,"div"),o.Cc(11,J,1,3,"app-bar-comparison",60),o.Cc(12,V,2,0,"p",40),o.Tb(),o.Tb(),o.Ub(13,"div",23),o.Pb(14,"hr"),o.Ub(15,"div",24),o.Pb(16,"i",61),o.Dc(17),o.hc(18,"translate"),o.Tb(),o.Tb(),o.Tb(),o.Tb()),2&e){const e=o.gc(2);o.Cb(4),o.Ec(o.ic(5,5,"Expenses.ExpensesCompare")),o.Cb(3),o.Ec(o.ic(8,7,"Expenses.ExpensesCompareDesc")),o.Cb(4),o.mc("ngIf",null!=e.currentMonthDataToCompare&&null!=e.lastMonthDataToCompare),o.Cb(1),o.mc("ngIf",null==e.currentMonthDataToCompare&&null==e.lastMonthDataToCompare),o.Cb(5),o.Fc("",o.ic(18,9,"Footer.ExpComp")," ")}}const Y=function(e){return{"col-md-12":e}};function B(e,t){if(1&e&&(o.Ub(0,"div",0),o.Ub(1,"div",7),o.Ub(2,"div",8),o.Ub(3,"div",9),o.Ub(4,"div",10),o.Ub(5,"h4",11),o.Dc(6),o.hc(7,"translate"),o.Tb(),o.Tb(),o.Ub(8,"div",12),o.Cc(9,f,13,6,"ul",13),o.Tb(),o.Tb(),o.Tb(),o.Tb(),o.Ub(10,"div",7),o.Ub(11,"div",14),o.Ub(12,"div",15),o.Ub(13,"div",12),o.Ub(14,"div",7),o.Ub(15,"div",16),o.Ub(16,"div",17),o.Pb(17,"i",18),o.Tb(),o.Tb(),o.Ub(18,"div",19),o.Ub(19,"div",20),o.Ub(20,"p",21),o.Dc(21),o.hc(22,"translate"),o.Tb(),o.Cc(23,C,3,3,"p",22),o.Cc(24,E,2,0,"p",22),o.Tb(),o.Tb(),o.Tb(),o.Tb(),o.Ub(25,"div",23),o.Pb(26,"hr"),o.Ub(27,"div",24),o.Pb(28,"i",25),o.Cc(29,v,3,3,"span",26),o.Cc(30,y,2,0,"span",26),o.Tb(),o.Tb(),o.Tb(),o.Tb(),o.Ub(31,"div",27),o.Ub(32,"div",15),o.Ub(33,"div",12),o.Ub(34,"div",7),o.Ub(35,"div",16),o.Ub(36,"div",28),o.Pb(37,"i",29),o.Tb(),o.Tb(),o.Ub(38,"div",19),o.Ub(39,"div",20),o.Ub(40,"p",21),o.Dc(41),o.hc(42,"translate"),o.Tb(),o.Cc(43,T,3,3,"p",22),o.Cc(44,U,2,0,"p",22),o.Tb(),o.Tb(),o.Tb(),o.Tb(),o.Ub(45,"div",23),o.Pb(46,"hr"),o.Ub(47,"div",24),o.Pb(48,"i",30),o.Cc(49,S,3,3,"span",26),o.Cc(50,D,2,0,"span",26),o.Tb(),o.Tb(),o.Tb(),o.Tb(),o.Ub(51,"div",31),o.Ub(52,"div",15),o.Ub(53,"div",12),o.Ub(54,"div",7),o.Ub(55,"div",16),o.Ub(56,"div",32),o.Pb(57,"i",33),o.Tb(),o.Tb(),o.Ub(58,"div",19),o.Ub(59,"div",20),o.Ub(60,"p",21),o.Dc(61),o.hc(62,"translate"),o.Tb(),o.Cc(63,I,2,1,"p",22),o.Cc(64,M,2,0,"p",22),o.Tb(),o.Tb(),o.Tb(),o.Tb(),o.Ub(65,"div",23),o.Pb(66,"hr"),o.Ub(67,"div",24),o.Pb(68,"i",34),o.Cc(69,w,3,3,"span",22),o.Cc(70,P,2,0,"span",22),o.Tb(),o.Tb(),o.Tb(),o.Tb(),o.Ub(71,"div",35),o.Ub(72,"div",15),o.Ub(73,"div",12),o.Ub(74,"div",7),o.Ub(75,"div",16),o.Ub(76,"div",28),o.Pb(77,"i",36),o.Tb(),o.Tb(),o.Ub(78,"div",19),o.Ub(79,"div",20),o.Ub(80,"p",21),o.Dc(81),o.hc(82,"translate"),o.Tb(),o.Cc(83,L,2,1,"p",22),o.Cc(84,N,2,0,"p",22),o.Pb(85,"p"),o.Tb(),o.Tb(),o.Tb(),o.Tb(),o.Ub(86,"div",23),o.Pb(87,"hr"),o.Ub(88,"div",24),o.Pb(89,"i",34),o.Cc(90,O,3,3,"span",22),o.Cc(91,j,2,0,"span",22),o.Tb(),o.Tb(),o.Tb(),o.Tb(),o.Tb(),o.Ub(92,"div",7),o.Ub(93,"div",37),o.Ub(94,"div",38),o.Ub(95,"div",10),o.Ub(96,"h5",11),o.Dc(97),o.hc(98,"translate"),o.Tb(),o.Ub(99,"p",39),o.Dc(100),o.hc(101,"translate"),o.Tb(),o.Tb(),o.Ub(102,"div",12),o.Cc(103,k,2,1,"div",26),o.Cc(104,F,2,0,"p",40),o.Tb(),o.Ub(105,"div",23),o.Pb(106,"hr"),o.Ub(107,"div",24),o.Pb(108,"i",30),o.Dc(109),o.hc(110,"translate"),o.Tb(),o.Tb(),o.Tb(),o.Tb(),o.Ub(111,"div",41),o.Ub(112,"div",42),o.Ub(113,"div",10),o.Ub(114,"h5",11),o.Dc(115),o.hc(116,"translate"),o.Tb(),o.Ub(117,"p",39),o.Dc(118),o.hc(119,"translate"),o.Tb(),o.Tb(),o.Ub(120,"div",12),o.Cc(121,W,3,3,"div",26),o.Tb(),o.Ub(122,"div",23),o.Pb(123,"hr"),o.Ub(124,"div",24),o.Pb(125,"i",43),o.Dc(126),o.hc(127,"translate"),o.Tb(),o.Tb(),o.Tb(),o.Tb(),o.Tb(),o.Ub(128,"div",7),o.Ub(129,"div",44),o.Ub(130,"div",38),o.Ub(131,"div",10),o.Ub(132,"h5",11),o.Dc(133),o.hc(134,"translate"),o.Tb(),o.Ub(135,"p",39),o.Dc(136),o.hc(137,"translate"),o.Tb(),o.Tb(),o.Ub(138,"div",12),o.Ub(139,"div"),o.Cc(140,z,1,1,"app-line-chart",45),o.Cc(141,A,2,0,"p",40),o.Tb(),o.Tb(),o.Ub(142,"div",23),o.Pb(143,"hr"),o.Ub(144,"div",24),o.Pb(145,"i",46),o.Dc(146),o.hc(147,"translate"),o.Tb(),o.Tb(),o.Tb(),o.Tb(),o.Cc(148,X,19,11,"div",47),o.Tb(),o.Tb()),2&e){const e=o.gc();o.Cb(6),o.Ec(o.ic(7,38,"Expenses.TeamMembers")),o.Cb(3),o.mc("ngForOf",e.walletMembers),o.Cb(12),o.Ec(o.ic(22,40,"Expenses.MostUsed")),o.Cb(2),o.mc("ngIf",null!=e.mostUsedCategory),o.Cb(1),o.mc("ngIf",null==e.mostUsedCategory),o.Cb(5),o.mc("ngIf",null!=e.mostUsedCategory),o.Cb(1),o.mc("ngIf",null==e.mostUsedCategory),o.Cb(11),o.Ec(o.ic(42,42,"Expenses.MostSpent")),o.Cb(2),o.mc("ngIf",null!=e.mostSpentCategory),o.Cb(1),o.mc("ngIf",null==e.mostSpentCategory),o.Cb(5),o.mc("ngIf",null!=e.mostSpentCategory),o.Cb(1),o.mc("ngIf",null==e.mostSpentCategory),o.Cb(11),o.Ec(o.ic(62,44,"Expenses.Average")),o.Cb(2),o.mc("ngIf",0!=e.avgDailyExpenses),o.Cb(1),o.mc("ngIf",0==e.avgDailyExpenses),o.Cb(5),o.mc("ngIf",0!=e.avgDailyExpenses),o.Cb(1),o.mc("ngIf",0==e.avgDailyExpenses),o.Cb(11),o.Ec(o.ic(82,46,"Expenses.Total")),o.Cb(2),o.mc("ngIf",0!=e.amountOfMoneySpent),o.Cb(1),o.mc("ngIf",0==e.amountOfMoneySpent),o.Cb(6),o.mc("ngIf",0!=e.amountOfMoneySpent),o.Cb(1),o.mc("ngIf",0==e.amountOfMoneySpent),o.Cb(6),o.Ec(o.ic(98,48,"Expenses.Top")),o.Cb(3),o.Ec(o.ic(101,50,"Expenses.TopDesc")),o.Cb(3),o.mc("ngIf",null!=e.topFiveUsers),o.Cb(1),o.mc("ngIf",null==e.topFiveUsers),o.Cb(5),o.Fc(" ",o.ic(110,52,"Footer.Top5")," "),o.Cb(6),o.Ec(o.ic(116,54,"Expenses.WalletStatistics")),o.Cb(3),o.Ec(o.ic(119,56,"Expenses.WalletStatDesc")),o.Cb(3),o.mc("ngIf",null!=e.barExpenses&&e.categories.length>0),o.Cb(5),o.Fc("",o.ic(127,58,"Footer.BarStat")," "),o.Cb(3),o.mc("ngClass",o.pc(66,Y,!e.showComparisonData)),o.Cb(4),o.Ec(o.ic(134,60,"Expenses.Last")),o.Cb(3),o.Ec(o.ic(137,62,"Expenses.LastDesc")),o.Cb(4),o.mc("ngIf",null!=e.lastSixMonths),o.Cb(1),o.mc("ngIf",null==e.lastSixMonths),o.Cb(5),o.Fc(" ",o.ic(147,64,"Footer.Last6")," "),o.Cb(2),o.mc("ngIf",e.showComparisonData)}}let K=(()=>{class e{constructor(e,t,s,a,n){this.expService=e,this.router=t,this.walletService=s,this.translateService=a,this.titleService=n,this.showComparisonData=!1,this.categories=[]}ngOnInit(){"en"===this.translateService.currentLang?r.locale("en"):"ru"===this.translateService.currentLang&&r.locale("ru"),this.translateService.onLangChange.subscribe(()=>{"en"===this.translateService.currentLang?r.locale("en"):"ru"===this.translateService.currentLang&&r.locale("ru")}),0===this.walletService.currentCategories.length?this.walletService.getWalletsCategories().subscribe(e=>{this.walletService.currentCategories=e,this.categories=this.walletService.currentCategories}):this.categories=this.walletService.currentCategories,this.isLoading=!0,this.expService.getWalletStatistics(new Date(Date.now()).toUTCString()).subscribe(e=>{if(console.log(e),this.avgDailyExpenses=e.averageDailyExpense,this.amountOfMoneySpent=e.amountOfMoneySpent,!0===e.hasExpenseData){this.currentMonthDataToCompare=e.barCompareExpensesWithLastMonth.currentMonthData;let t=!1;for(let e=0;e<this.currentMonthDataToCompare.length;e++)0!==this.currentMonthDataToCompare[e].categoryExpenses&&(t=!0);let s=!1;this.lastMonthDataToCompare=e.barCompareExpensesWithLastMonth.lastMonthData;for(let e=0;e<this.lastMonthDataToCompare.length;e++)0!==this.lastMonthDataToCompare[e].categoryExpenses&&(s=!0);t&&s&&(this.showComparisonData=!0),this.barExpenses=e.barExpenses,this.lastSixMonths=e.lastSixMonths,this.topFiveUsers=e.topFiveUsers,this.mostUsedCategory=e.mostUsedCategory,this.mostSpentCategory=e.mostSpentCategory}this.walletMembers=e.walletUsers,console.log("users",this.walletMembers),this.isLoading=!1}),this.setTitle(this.translateService.currentLang),this.translateService.onLangChange.subscribe(e=>{this.setTitle(e.lang)})}setTitle(e){"en"===e?this.titleService.setTitle("Wallet Statistics"):"ru"===e&&this.titleService.setTitle("\u0421\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0430 \u041a\u043e\u0448\u0435\u043b\u044c\u043a\u0430")}getUserStatistics(e){console.log(e),this.router.navigate(["/wallet/userStatistics",e])}getFormat(e){return r(e).format("lll")}}return e.\u0275fac=function(t){return new(t||e)(o.Ob(c.a),o.Ob(i.b),o.Ob(h.a),o.Ob(b.d),o.Ob(p.d))},e.\u0275cmp=o.Ib({type:e,selectors:[["app-wallet-statistics"]],decls:3,vars:2,consts:[[1,"scroll"],["class","loader-wrapper",4,"ngIf"],["class","scroll",4,"ngIf"],[1,"loader-wrapper"],[1,"loader"],[1,"face"],[1,"circle"],[1,"row"],["data-aos","fade-right","data-aos-duration","1200","data-aos-once","true","data-aos-delay","0",1,"col-xl-3","col-lg-6","col-md-6","col-sm-12"],[1,"card"],[1,"card-header"],[1,"card-title"],[1,"card-body"],["class","list-unstyled team-members",4,"ngFor","ngForOf"],["data-aos","fade-down","data-aos-duration","1200","data-aos-once","true","data-aos-delay","0",1,"col-xl-3","col-lg-4","col-md-6","col-sm-6","col-xs-6"],[1,"card","card-stats"],[1,"col-5","col-md-4"],[1,"icon-big","text-center","icon-success"],[1,"nc-icon","nc-chart-bar-32","text-success"],[1,"col-7","col-md-8"],[1,"numbers"],[1,"card-category","mb-2"],["class","card-title",4,"ngIf"],[1,"card-footer"],[1,"stats"],[1,"fa","fa-sort-amount-asc"],[4,"ngIf"],["data-aos","fade-down","data-aos-duration","1200","data-aos-once","true","data-aos-delay","150",1,"col-xl-3","col-lg-4","col-md-6","col-sm-6","col-xs-6"],[1,"icon-big","text-center","icon-primary"],[1,"nc-icon","nc-chart-bar-32","text-primary"],[1,"fa","fa-money"],["data-aos","fade-down","data-aos-duration","1200","data-aos-once","true","data-aos-delay","300",1,"col-xl-3","col-lg-4","col-md-6","col-sm-6","col-xs-6"],[1,"icon-big","text-center","icon-secondary"],[1,"nc-icon","nc-money-coins","text-secondary"],[1,"fa","fa-refresh"],["data-aos","fade-down","data-aos-duration","1200","data-aos-once","true","data-aos-delay","450",1,"col-xl-3","col-lg-4","col-md-6","col-sm-6","col-xs-6"],[1,"nc-icon","nc-money-coins","text-primary"],["data-aos","fade-right","data-aos-duration","1200","data-aos-once","true","data-aos-delay","100",1,"col-xl-4","col-12"],[1,"card",2,"border-radius","12px"],[1,"card-category"],["class","text-uppercase",4,"ngIf"],[1,"col-xl-8","col-12"],["data-aos","fade-down","data-aos-duration","1200","data-aos-once","true","data-aos-delay","200",1,"card",2,"border-radius","12px"],[1,"fas","fa-chart-bar"],["data-aos","fade-right","data-aos-duration","1200","data-aos-once","true","data-aos-delay","100",1,"col-xl-6","col-12",3,"ngClass"],[3,"lastSixMonths",4,"ngIf"],[1,"fa","fa-calendar"],["class","col-xl-6 col-12 compare","data-aos","fade-up","data-aos-duration","1200","data-aos-once","true","data-aos-delay","300",4,"ngIf"],[1,"list-unstyled","team-members"],[1,"row","user-details"],[1,"col-md-3","col-sm-2","col-4"],[1,"avatar"],["alt","",1,"avatar-image",2,"cursor","pointer",3,"src","click"],[1,"col-md-8","col-sm-7","col-8","text-capitalize"],[1,"text-muted"],[3,"topFiveUsers"],[1,"text-uppercase"],[3,"categories","barExpensesList"],[3,"lastSixMonths"],["data-aos","fade-up","data-aos-duration","1200","data-aos-once","true","data-aos-delay","300",1,"col-xl-6","col-12","compare"],[3,"categories","currentMonthbarExpensesList","lastMonthbarExpensesList",4,"ngIf"],[1,"fas","fa-project-diagram"],[3,"categories","currentMonthbarExpensesList","lastMonthbarExpensesList"]],template:function(e,t){1&e&&(o.Ub(0,"div",0),o.Cc(1,m,6,0,"div",1),o.Cc(2,B,149,68,"div",2),o.Tb()),2&e&&(o.Cb(1),o.mc("ngIf",t.isLoading),o.Cb(1),o.mc("ngIf",!t.isLoading))},directives:[a.l,a.k,a.j,l.a,d.a,g.a,u],pipes:[b.c],styles:["[_nghost-%COMP%]{background-color:var(--background-color)}.avatar[_ngcontent-%COMP%]{width:50px;height:50px;margin-bottom:0}.avatar-image[_ngcontent-%COMP%]{max-height:100%;max-width:auto}.user-details[_ngcontent-%COMP%]{align-items:center}@media (max-width:350px){.compare[_ngcontent-%COMP%]{padding-left:2px!important;padding-right:2px!important}}@media (max-width:300px){.card-title[_ngcontent-%COMP%]{font-size:15px!important}.card-category[_ngcontent-%COMP%]{font-size:13px!important}}",'.loader-wrapper[_ngcontent-%COMP%]{margin:0;padding:0;height:100vh}.loader[_ngcontent-%COMP%], .loader-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.loader[_ngcontent-%COMP%]{width:20em;height:20em;font-size:10px;position:relative}.loader[_ngcontent-%COMP%]   .face[_ngcontent-%COMP%]{position:absolute;border-radius:50%;border-style:solid;-webkit-animation:animate 3s linear infinite;animation:animate 3s linear infinite}.loader[_ngcontent-%COMP%]   .face[_ngcontent-%COMP%]:first-child{width:100%;height:100%;color:var(--spinner-first);border-color:currentColor transparent transparent currentColor;border-width:.2em .2em 0 0;--deg:-45deg;-webkit-animation-direction:normal;animation-direction:normal}.loader[_ngcontent-%COMP%]   .face[_ngcontent-%COMP%]:nth-child(2){width:70%;height:70%;color:var(--spinner-second);border-color:currentColor currentColor transparent transparent;border-width:.2em 0 0 .2em;--deg:-135deg;animation-direction:reverse}.loader[_ngcontent-%COMP%]   .face[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%]{position:absolute;width:50%;height:.1em;top:50%;left:50%;background-color:transparent;transform:rotate(var(--deg));transform-origin:left}.loader[_ngcontent-%COMP%]   .face[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%]:before{position:absolute;top:-.5em;right:-.5em;content:"";width:1em;height:1em;background-color:currentColor;border-radius:50%;box-shadow:0 0 2em,0 0 4em,0 0 6em,0 0 8em,0 0 10em,0 0 0 .5em rgba(255,255,0,.1)}@-webkit-keyframes animate{to{transform:rotate(1turn)}}@keyframes animate{to{transform:rotate(1turn)}}']}),e})();var R=s("BLxY");s.d(t,"WalletStatisticsModule",(function(){return G}));let G=(()=>{class e{}return e.\u0275mod=o.Mb({type:e}),e.\u0275inj=o.Lb({factory:function(t){return new(t||e)},imports:[[a.c,i.f.forChild([{path:"",component:K}]),n.a,R.a]]}),e})()}}]);