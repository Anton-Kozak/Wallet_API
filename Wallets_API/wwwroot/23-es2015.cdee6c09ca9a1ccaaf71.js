(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{"zq+E":function(t,e,a){"use strict";a.r(e);var n=a("ofXK"),c=a("CLZf"),i=a("tyNb"),s=a("BLxY"),o=a("+0xr"),r=a("fXoL"),b=a("0xaD"),d=a("BI3K"),l=a("sYmb"),h=a("jhN1"),g=a("FNUI"),p=a("KxNj"),m=a("XTbL"),C=a("M9IT");const f=["paginator"];function u(t,e){1&t&&(r.Ub(0,"div"),r.Ub(1,"div",2),r.Ub(2,"div",3),r.Pb(3,"div",4),r.Tb(),r.Ub(4,"div",3),r.Pb(5,"div",4),r.Tb(),r.Tb(),r.Tb())}function x(t,e){if(1&t&&(r.Ub(0,"div",5),r.Ub(1,"div",6),r.Ub(2,"div",7),r.Ub(3,"div",8),r.Pb(4,"div",9),r.Tb(),r.Ub(5,"div",10),r.Ub(6,"h4",11),r.Dc(7),r.hc(8,"translate"),r.Tb(),r.Tb(),r.Tb(),r.Tb(),r.Tb()),2&t){const t=r.gc();r.Cb(7),r.Ec(r.ic(8,1,"ExpenseCategory."+t.chosenCategoryName))}}function v(t,e){if(1&t&&(r.Ub(0,"div",25),r.Pb(1,"app-pie-graph",26),r.Tb()),2&t){const t=r.gc(2);r.Cb(1),r.mc("topFiveUsers",t.topFiveUsers)}}function U(t,e){1&t&&(r.Ub(0,"div",25),r.Dc(1," --- "),r.Tb())}function T(t,e){if(1&t&&(r.Ub(0,"div",25),r.Ub(1,"div"),r.Pb(2,"app-line-chart",27),r.Tb(),r.Tb()),2&t){const t=r.gc(2);r.Cb(2),r.mc("lastSixMonths",t.lastSixMonths)}}function D(t,e){1&t&&(r.Ub(0,"div",25),r.Ub(1,"div"),r.Dc(2," --- "),r.Tb(),r.Tb())}function M(t,e){if(1&t&&(r.Ub(0,"div",30),r.Pb(1,"app-donut-chart",31),r.Tb()),2&t){const t=r.gc(3);r.Cb(1),r.mc("currentMonthbar",t.currentMonthData)("lastMonthbar",t.lastMonthData)("category",t.chosenCategoryName)}}function w(t,e){if(1&t&&(r.Ub(0,"div",5),r.Ub(1,"div",28),r.Ub(2,"div",22),r.Ub(3,"div",10),r.Ub(4,"h5",15),r.Dc(5),r.hc(6,"translate"),r.Tb(),r.Ub(7,"p",16),r.Dc(8),r.hc(9,"translate"),r.Tb(),r.Tb(),r.Cc(10,M,2,3,"div",29),r.Ub(11,"div",18),r.Pb(12,"hr"),r.Ub(13,"div",19),r.Pb(14,"i",23),r.Dc(15),r.hc(16,"translate"),r.Tb(),r.Tb(),r.Tb(),r.Tb(),r.Tb()),2&t){const t=r.gc(2);r.Cb(5),r.Ec(r.ic(6,4,"Expenses.ExpensesCompare")),r.Cb(3),r.Ec(r.ic(9,6,"Expenses.ExpensesCompareDesc")),r.Cb(2),r.mc("ngIf",t.chosenCategoryName),r.Cb(5),r.Fc(" ",r.ic(16,8,"Footer.BarStat")," ")}}function y(t,e){1&t&&(r.Ub(0,"th",47),r.Dc(1),r.hc(2,"translate"),r.Tb()),2&t&&(r.Cb(1),r.Fc(" ",r.ic(2,1,"Expenses.Expense")," "))}function P(t,e){if(1&t&&(r.Ub(0,"td",48),r.Dc(1),r.Tb()),2&t){const t=e.$implicit;r.Cb(1),r.Fc(" ",t.expenseTitle," ")}}function S(t,e){1&t&&(r.Ub(0,"th",47),r.Dc(1),r.hc(2,"translate"),r.Tb()),2&t&&(r.Cb(1),r.Fc(" ",r.ic(2,1,"Expenses.User")," "))}function O(t,e){if(1&t&&(r.Ub(0,"td",48),r.Dc(1),r.Tb()),2&t){const t=e.$implicit;r.Cb(1),r.Fc(" ",t.userName," ")}}function E(t,e){1&t&&(r.Ub(0,"th",47),r.Dc(1," $ "),r.Tb())}function _(t,e){if(1&t&&(r.Ub(0,"td",48),r.Dc(1),r.Tb()),2&t){const t=e.$implicit;r.Cb(1),r.Fc(" ",t.moneySpent," ")}}function F(t,e){1&t&&(r.Ub(0,"th",49),r.Dc(1),r.hc(2,"translate"),r.Tb()),2&t&&(r.Cb(1),r.Fc(" ",r.ic(2,1,"Expenses.Details")," "))}function I(t,e){if(1&t&&(r.Ub(0,"td",50),r.Dc(1),r.Tb()),2&t){const t=e.$implicit;r.Cb(1),r.Fc(" ",t.expenseDescription," ")}}function L(t,e){1&t&&(r.Ub(0,"th",47),r.Dc(1),r.hc(2,"translate"),r.Tb()),2&t&&(r.Cb(1),r.Fc(" ",r.ic(2,1,"Expenses.Date")," "))}function N(t,e){if(1&t&&(r.Ub(0,"td",48),r.Dc(1),r.hc(2,"date"),r.Tb()),2&t){const t=e.$implicit;r.Cb(1),r.Fc(" ",r.jc(2,1,t.creationDate,"short")," ")}}function z(t,e){1&t&&r.Pb(0,"tr",51)}function R(t,e){1&t&&r.Pb(0,"tr",52)}const j=function(){return[10]};function k(t,e){1&t&&r.Pb(0,"mat-paginator",53,54),2&t&&r.mc("pageSizeOptions",r.oc(2,j))("hidePageSize",!0)}function $(t,e){if(1&t&&(r.Ub(0,"div",32),r.Ub(1,"div",14),r.Ub(2,"div",33),r.Ub(3,"table",34),r.Sb(4,35),r.Cc(5,y,3,3,"th",36),r.Cc(6,P,2,1,"td",37),r.Rb(),r.Sb(7,38),r.Cc(8,S,3,3,"th",36),r.Cc(9,O,2,1,"td",37),r.Rb(),r.Sb(10,39),r.Cc(11,E,2,0,"th",36),r.Cc(12,_,2,1,"td",37),r.Rb(),r.Sb(13,40),r.Cc(14,F,3,3,"th",41),r.Cc(15,I,2,1,"td",42),r.Rb(),r.Sb(16,43),r.Cc(17,L,3,3,"th",36),r.Cc(18,N,3,4,"td",37),r.Rb(),r.Cc(19,z,1,0,"tr",44),r.Cc(20,R,1,0,"tr",45),r.Tb(),r.Cc(21,k,2,3,"mat-paginator",46),r.Tb(),r.Tb(),r.Tb()),2&t){const t=r.gc(2);r.Cb(3),r.mc("dataSource",t.expenses),r.Cb(16),r.mc("matHeaderRowDef",t.columnsForExpenses),r.Cb(1),r.mc("matRowDefColumns",t.columnsForExpenses),r.Cb(1),r.mc("ngIf",t.expenses.data.length>10)}}function B(t,e){if(1&t&&(r.Ub(0,"div"),r.Ub(1,"div",5),r.Ub(2,"div",12),r.Ub(3,"div",5),r.Ub(4,"div",13),r.Ub(5,"div",14),r.Ub(6,"div",10),r.Ub(7,"h5",15),r.Dc(8),r.hc(9,"translate"),r.Tb(),r.Ub(10,"p",16),r.Dc(11),r.hc(12,"translate"),r.Tb(),r.Tb(),r.Cc(13,v,2,1,"div",17),r.Cc(14,U,2,0,"div",17),r.Ub(15,"div",18),r.Pb(16,"hr"),r.Ub(17,"div",19),r.Pb(18,"i",20),r.Dc(19),r.hc(20,"translate"),r.Tb(),r.Tb(),r.Tb(),r.Tb(),r.Tb(),r.Ub(21,"div",5),r.Ub(22,"div",21),r.Ub(23,"div",22),r.Ub(24,"div",10),r.Ub(25,"h5",15),r.Dc(26),r.hc(27,"translate"),r.Tb(),r.Ub(28,"p",16),r.Dc(29),r.hc(30,"translate"),r.Tb(),r.Tb(),r.Cc(31,T,3,1,"div",17),r.Cc(32,D,3,0,"div",17),r.Ub(33,"div",18),r.Pb(34,"hr"),r.Ub(35,"div",19),r.Pb(36,"i",23),r.Dc(37),r.hc(38,"translate"),r.Tb(),r.Tb(),r.Tb(),r.Tb(),r.Tb(),r.Cc(39,w,17,10,"div",1),r.Tb(),r.Cc(40,$,22,4,"div",24),r.Tb(),r.Tb()),2&t){const t=r.gc();r.Cb(8),r.Ec(r.ic(9,12,"Expenses.Top")),r.Cb(3),r.Ec(r.ic(12,14,"Expenses.TopDesc")),r.Cb(2),r.mc("ngIf",t.topFiveUsers),r.Cb(1),r.mc("ngIf",!t.topFiveUsers),r.Cb(5),r.Fc(" ",r.ic(20,16,"Footer.NumberExp")," "),r.Cb(7),r.Ec(r.ic(27,18,"Expenses.Last")),r.Cb(3),r.Ec(r.ic(30,20,"Expenses.LastDesc")),r.Cb(2),r.mc("ngIf",t.lastSixMonths),r.Cb(1),r.mc("ngIf",!t.lastSixMonths),r.Cb(5),r.Fc(" ",r.ic(38,22,"Footer.Last6")," "),r.Cb(2),r.mc("ngIf",t.showComparisonData),r.Cb(1),r.mc("ngIf",t.expenses.data.length>0)}}function H(t,e){if(1&t&&(r.Ub(0,"div"),r.Ub(1,"div",55),r.Ub(2,"div",56),r.Ub(3,"div",57),r.Ub(4,"div",25),r.Ub(5,"div",5),r.Ub(6,"div",58),r.Ub(7,"div",59),r.Pb(8,"i",60),r.Tb(),r.Tb(),r.Ub(9,"div",61),r.Ub(10,"div",62),r.Ub(11,"p",63),r.Dc(12),r.Tb(),r.Ub(13,"p",15),r.Dc(14,"No expenses"),r.Tb(),r.Pb(15,"p"),r.Tb(),r.Tb(),r.Tb(),r.Tb(),r.Ub(16,"div",18),r.Pb(17,"hr"),r.Ub(18,"div",19),r.Pb(19,"i",64),r.Dc(20," Please, add expenses to see statistics "),r.Tb(),r.Tb(),r.Tb(),r.Tb(),r.Tb(),r.Tb()),2&t){const t=r.gc();r.Cb(12),r.Ec(t.chosenCategoryName)}}let K=(()=>{class t{constructor(t,e,a,n,c){this.expService=t,this.route=e,this.walletService=a,this.translateService=n,this.titleService=c,this.showComparisonData=!1,this.mostUsedUser=null,this.expenses=new o.k,this.columnsForExpenses=["expenseTitle","userName","moneySpent","expenseDescription","creationDate"],this.showData=!0}ngOnInit(){this.route.params.subscribe(t=>{this.walletService.getCurrentWallet().subscribe(),this.chosenCategory=+t.id||0,0===this.walletService.currentCategories.length?this.walletService.getWalletsCategories().subscribe(t=>{this.walletService.currentCategories=t,this.chosenCategoryName=this.walletService.currentCategories.find(t=>t.id===this.chosenCategory).title}):this.chosenCategoryName=this.walletService.currentCategories.find(t=>t.id===this.chosenCategory).title,this.isLoading=!0,this.expService.getCategoryStatistics(this.chosenCategory,new Date(Date.now()).toUTCString()).subscribe(t=>{0===t.categoryExpenses.length?this.showData=!1:(this.expenses.data=t.categoryExpenses,setTimeout(()=>this.expenses.paginator=this.paginator),this.mostUsedUser=t.mostUsedUser,this.currentMonthData=t.barCompareExpensesWithLastMonth.currentMonthData,this.lastMonthData=t.barCompareExpensesWithLastMonth.lastMonthData,this.currentMonthData>0&&this.lastMonthData>0&&(console.log("Comparison check",this.currentMonthData,this.lastMonthData),this.showComparisonData=!0),this.topFiveUsers=t.topFiveUsers,this.lastSixMonths=t.lastSixMonths,this.showData=!0),this.isLoading=!1})}),this.setTitle(this.translateService.currentLang),this.translateService.onLangChange.subscribe(t=>{this.setTitle(t.lang)})}setTitle(t){"en"===t?this.titleService.setTitle("Category Statistics"):"ru"===t&&this.titleService.setTitle("\u0421\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0430 \u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438")}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(b.a),r.Ob(i.a),r.Ob(d.a),r.Ob(l.d),r.Ob(h.d))},t.\u0275cmp=r.Ib({type:t,selectors:[["app-category-statistics"]],viewQuery:function(t,e){var a;1&t&&r.Kc(f,!0),2&t&&r.rc(a=r.dc())&&(e.paginator=a.first)},decls:4,vars:4,consts:[[4,"ngIf"],["class","row",4,"ngIf"],[1,"loader"],[1,"face"],[1,"circle"],[1,"row"],["data-aos","fade-down","data-aos-duration","1200","data-aos-once","true","data-aos-delay","0",1,"col-12"],[1,"card","card-test"],[1,"image"],[2,"width","100%","height","100%","background-color","#cafcdf"],[1,"card-header"],[1,"card-title","text-center","font-weight-bold"],[1,"col-md-12","col-lg-5","col-xl-4"],["data-aos","fade-right","data-aos-duration","1200","data-aos-once","true","data-aos-delay","100",1,"col-12"],[1,"card"],[1,"card-title"],[1,"card-category"],["class","card-body ",4,"ngIf"],[1,"card-footer"],[1,"stats"],[1,"fa","fa-money"],["data-aos","fade-right","data-aos-duration","1200","data-aos-once","true","data-aos-delay","200",1,"col-12"],[1,"card",2,"border-radius","12px"],[1,"fa","fa-calendar"],["class","col-md-12 col-lg-7 col-xl-8","data-aos","fade-left","data-aos-duration","1200","data-aos-once","true","data-aos-delay","250",4,"ngIf"],[1,"card-body"],[3,"topFiveUsers"],[3,"lastSixMonths"],["data-aos","fade-right","data-aos-duration","1200","data-aos-once","true","data-aos-delay","300",1,"col-12"],["class","container",4,"ngIf"],[1,"container"],[3,"currentMonthbar","lastMonthbar","category"],["data-aos","fade-left","data-aos-duration","1200","data-aos-once","true","data-aos-delay","250",1,"col-md-12","col-lg-7","col-xl-8"],[1,"mat-elevation-z8",2,"box-shadow","none"],["mat-table","",2,"width","100%",3,"dataSource"],["matColumnDef","expenseTitle"],["class","text-center table-head","mat-header-cell","",4,"matHeaderCellDef"],["class","table-text","mat-cell","",4,"matCellDef"],["matColumnDef","userName"],["matColumnDef","moneySpent"],["matColumnDef","expenseDescription"],["class","text-center d-none d-lg-table-cell","mat-header-cell","",4,"matHeaderCellDef"],["class","d-none d-lg-table-cell","mat-cell","",4,"matCellDef"],["matColumnDef","creationDate"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","",3,"pageSizeOptions","hidePageSize",4,"ngIf"],["mat-header-cell","",1,"text-center","table-head"],["mat-cell","",1,"table-text"],["mat-header-cell","",1,"text-center","d-none","d-lg-table-cell"],["mat-cell","",1,"d-none","d-lg-table-cell"],["mat-header-row",""],["mat-row",""],["showFirstLastButtons","",3,"pageSizeOptions","hidePageSize"],["paginator",""],[1,"row","d-flex","justify-content-center"],[1,"col-lg-3","col-md-6","col-sm-6"],[1,"card","card-stats"],[1,"col-5","col-md-4"],[1,"icon-big","text-center","icon-warning"],[1,"fa","fa-exclamation-triangle","text-warning"],[1,"col-7","col-md-8"],[1,"numbers"],[1,"card-category","mb-2"],[1,"fa","fa-refresh"]],template:function(t,e){1&t&&(r.Cc(0,u,6,0,"div",0),r.Cc(1,x,9,3,"div",1),r.Cc(2,B,41,24,"div",0),r.Cc(3,H,21,1,"div",0)),2&t&&(r.mc("ngIf",e.isLoading),r.Cb(1),r.mc("ngIf",!e.isLoading),r.Cb(1),r.mc("ngIf",e.showData&&!e.isLoading),r.Cb(1),r.mc("ngIf",!e.showData&&!e.isLoading))},directives:[n.l,g.a,p.a,m.a,o.j,o.c,o.e,o.b,o.g,o.i,o.d,o.a,o.f,o.h,C.a],pipes:[l.c,n.e],styles:["@media (min-width:576px){.card-category[_ngcontent-%COMP%], .card-stats[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .numbers[_ngcontent-%COMP%], .card-stats[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .numbers[_ngcontent-%COMP%]   .card-category[_ngcontent-%COMP%]{font-size:1.1rem}}@media (min-width:768px){.card-category[_ngcontent-%COMP%], .card-stats[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .numbers[_ngcontent-%COMP%], .card-stats[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .numbers[_ngcontent-%COMP%]   .card-category[_ngcontent-%COMP%]{font-size:1.2rem}}.mat-elevation-z8[_ngcontent-%COMP%]{border-radius:12px!important;box-shadow:0 5px 5px -3px rgba(0,0,0,.25),0 8px 10px 1px rgba(0,0,0,.03),0 3px 14px 2px rgba(0,0,0,.03)}.users[_ngcontent-%COMP%]{box-shadow:none}.mat-table[_ngcontent-%COMP%]{background-color:transparent!important;color:#000;font-family:Montserrat,Helvetica Neue,Arial,sans-serif!important;font-weight:400;text-align:center}.mat-header-cell[_ngcontent-%COMP%]{text-align:center;font-size:20px}.mat-paginator[_ngcontent-%COMP%]{border-bottom-right-radius:12px;border-bottom-left-radius:12px}.mat-paginator-outer-container[_ngcontent-%COMP%]   .users[_ngcontent-%COMP%]{border-radius:none}.mat-paginator-page-size[_ngcontent-%COMP%]{display:none}.my-table[_ngcontent-%COMP%]{box-shadow:0 5px 5px -3px rgba(0,0,0,.25),0 8px 10px 1px rgba(0,0,0,.03),0 3px 14px 2px rgba(0,0,0,.03)}.image[_ngcontent-%COMP%]{opacity:var(--table-expense-header)}@media(max-width:450px){.table-head[_ngcontent-%COMP%]{font-size:15px!important}.table-text[_ngcontent-%COMP%]{font-size:12px!important}.table-head[_ngcontent-%COMP%]:last-of-type{padding-right:0!important}}"]}),t})();a.d(e,"CategoryStatisticsModule",(function(){return W}));let W=(()=>{class t{}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)},imports:[[n.c,i.f.forChild([{path:"",component:K}]),c.a,s.a,o.l,C.b]]}),t})()}}]);